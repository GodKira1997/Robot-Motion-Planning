<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    svg {
      border: 1px solid #000;
    }
  </style>
  <title>Animated Lines, Polygons, and Axes</title>
</head>
<body>
  <svg id="svgContainer" viewBox="0 0 1000 1000" width="700" height="700"></svg>

  <script>
    const svgContainer = document.getElementById('svgContainer');
    let shapesAndLines = [];
    let currentIndex = 0;

    function drawShapeOrLine(shapeOrLine) {
      if (shapeOrLine.type === 'line') {
        const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
        line.setAttribute('x1', shapeOrLine.x1);
        line.setAttribute('y1', 1000 - shapeOrLine.y1); // Invert y-coordinate
        line.setAttribute('x2', shapeOrLine.x2);
        line.setAttribute('y2', 1000 - shapeOrLine.y2); // Invert y-coordinate
        line.setAttribute('stroke', shapeOrLine.fill);
        svgContainer.appendChild(line);
      } else if (shapeOrLine.type === 'polygon') {
        const polygon = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
        const points = shapeOrLine.points.map(point => `${point.x},${1000 - point.y}`).join(' '); // Invert y-coordinate
        polygon.setAttribute('points', points);
        polygon.setAttribute('stroke', 'black');
        polygon.setAttribute('fill', shapeOrLine.fill);
        svgContainer.appendChild(polygon);
      }
    }

    function drawAxes() {
        console.log("PLOTTING");
      // X-axis
      const xAxis = document.createElementNS('http://www.w3.org/2000/svg', 'line');
      xAxis.setAttribute('x1', 0);
      xAxis.setAttribute('y1', 1000);
      xAxis.setAttribute('x2', 1000);
      xAxis.setAttribute('y2', 0);
      xAxis.setAttribute('stroke', 'black');
      svgContainer.appendChild(xAxis);
      console.log("PLOTTING");

      // Y-axis
      const yAxis = document.createElementNS('http://www.w3.org/2000/svg', 'line');
      yAxis.setAttribute('x1', 0);
      yAxis.setAttribute('y1', 1000);
      yAxis.setAttribute('x2', 1000);
      yAxis.setAttribute('y2', 1000);
      yAxis.setAttribute('stroke', 'black');
      svgContainer.appendChild(yAxis);
    }

    function animateShapesAndLines() {
      if (currentIndex < shapesAndLines.length) {
        console.log("STARt")
        // drawAxes();
        drawShapeOrLine(shapesAndLines[currentIndex]);
        currentIndex++;
        setTimeout(animateShapesAndLines, 1000); // Adjust the delay as needed
      }
    }

    function addLine() {
      const newLine = {
        type: 'line',
        x1: 0,
        y1: 0,
        x2: 1000,
        y2: 1000,
        fill: 'blue'
      };

      shapesAndLines.push(newLine);
    }

    function addLine2() {
      const newLine = {
        type: 'line',
        x1: 0,
        y1: 0,
        x2: 1000,
        y2: 1000,
        fill: 'green'
      };

      shapesAndLines.push(newLine);
    }

    function addPolygon() {
      const newPolygon = {
        type: 'polygon',
        points: [
          { x: Math.random() * 400 + 50, y: Math.random() * 400 + 50 },
          { x: Math.random() * 400 + 50, y: Math.random() * 400 + 50 },
          { x: Math.random() * 400 + 50, y: Math.random() * 400 + 50 },
        ],
        fill: 'red'
      };

      shapesAndLines.push(newPolygon);
    }

    // Example: Add a line, a polygon, and axes
    addLine();
    addLine2();
    addPolygon();

    // function setScale(scaleX, scaleY) {
    //   svgContainer.setAttribute('transform', `scale(${scaleX}, ${scaleY})`);
    // }

    // setScale(0.5, 0.5)

    // You can call addLine or addPolygon in response to user actions or events
    setTimeout(animateShapesAndLines, 1000);

  </script>
</body>
</html>
